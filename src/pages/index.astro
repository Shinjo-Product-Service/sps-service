---
import Layout from "../layouts/Layout.astro";
import Link from "../components/Link.astro";
import NewsItem from "../components/news/NewsItem.astro";
import Image from "astro/components/Image.astro";
import { newtClient } from "../lib/newt";
import type { NewsItemType, WorksItemType } from "../types";

const featureList = [
  {
    image: "/assets/images/home/feature_1.jpg",
    title: "低コストで導入が可能",
    alt: "山",
    label: "label1",
  },
  {
    image: "/assets/images/home/feature_2.jpg",
    title: "地方企業のデジタル課題をフルサポート",
    alt: "川",
    label: "label2",
  },
  {
    image: "/assets/images/home/feature_3.jpg",
    title: "経験豊富なスタッフが対応で安心",
    alt: "海",
    label: "label3",
  },
];

const serviceList = [
  {
    title: "Web制作",
    description:
      "もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。",
  },
  {
    title: "映像制作",
    description:
      "もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。",
  },
  {
    title: "SNS運用代行",
    description:
      "もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。",
  },
  {
    title: "名刺・チラシデザイン",
    description:
      "もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。",
  },
];

// {
// 	industry: '飲食',
// 	employees: '10名',
// 	assignment: 'ECサイト構築',
// },
const workInformations = [
  {
    title: "業種",
    description: "農業",
  },
  {
    title: "従業員数",
    description: "1~10人",
  },
  {
    title: "課題",
    description: "商品のブランドアピール不足と販売ルートの不足",
  },
];

const { items: workList } = await newtClient.getContents<WorksItemType>({
  appUid: "sps",
  modelUid: "works",
  //   query: {
  //     limit: 1,
  //     select: ["_id", "title", "label", "_sys.updatedAt"],
  //   },
});
console.log("workList", workList);

const { items: newsList } = await newtClient.getContents<NewsItemType>({
  appUid: "sps",
  modelUid: "news",
  query: {
    limit: 5,
    select: ["_id", "title", "label", "_sys.updatedAt"],
  },
});
---

<Layout title="Welcome to Astro.">
  <main class="mb-40">
    <!-- FV -->
    <div class="flex justify-center mt-36 px-20
			md:h-fit md:pt-[9rem] md:pb-0">
      <h1
        class="text-[11vw] font-mincho leading-tight tracking-[.75rem]
				md:ml-[1.6rem] md:text-[5.2rem] md:leading-relaxed md:tracking-normal"
      >
        デジタル時代の<br />
        門出を、<br />
        私たちと一緒に。
      </h1>
    </div>
    <!-- FEATURE -->
    <section class="mt-48 px-20
			md:mt-24 md:w-full md:px-[1.6rem]">
      <div
        class="grid grid-cols-[1fr_auto] gap-12 items-end mb-16
				md:flex md:flex-col md:gap-10 md:mb-16 md:justify-end"
      >
        <div class="">
          <h2
            class="mb-5 text-sectionEnTitle text-key font-urbanist
						md:mb-5 md:text-spSectionEnTitle"
          >
            Feature
          </h2>
          <h3
            class="mb-10 text-5xl font-mincho leading-normal
						md:mb-6 md:text-spSectionTitle"
          >
            私たちには選ばれる理由が<br />
            3つあります
          </h3>
          <p class="w-[40rem] text-defaultText
						md:w-full md:text-spDefaultText">
            もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。
            まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。
          </p>
        </div>
        <Link href="/feature" text="特長をくわしく見る" />
      </div>
      <div class="md:w-full md:overflow-scroll">
        <ul class="grid grid-cols-3 gap-5 md:w-max">
          {
            featureList.map(feature => (
              <li class="">
                <Image
                  src={feature.image}
                  alt={feature.alt}
                  width={10}
                  height={10}
                  class="w-full h-72 object-cover md:w-[30rem]"
                  aria-label={feature.title}
                />
                <p
                  class="
								mt-4 text-base font-mincho
								md:text-[1.5rem]
							"
                >
                  {feature.title}
                </p>
              </li>
            ))
          }
        </ul>
      </div>
    </section>
    <!-- SERVICE -->
    <section class="mt-48 px-20
			md:mt-24 md:w-full md:px-[1.6rem]">
      <h2
        class="mb-5 text-sectionEnTitle text-key font-urbanist
				md:mb-5 md:text-spSectionEnTitle"
      >
        Service
      </h2>
      <div class="grid grid-cols-[1fr_auto] items-end
				md:grid-cols-1">
        <h3
          class="text-4xl font-mincho leading-relaxed
					md:mb-6 md:text-spSectionTitle"
        >
          お困りのデジタル課題を<br />
          解決します
        </h3>
        <p class="w-[30rem] text-defaultText
					md:w-full md:text-spDefaultText">
          もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。
          まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。
        </p>
      </div>
      <div class="mt-20
				md:mt-4">
        <ul class="grid grid-cols-4 gap-5
					md:grid-cols-1 md:gap-0">
          {
            serviceList.map(service => (
              <li
                class="
							px-8 py-6 border border-lineGray rounded-lg
							md:px-5 md:py-10 md:border-r-0 md:border-l-0 md:border-t-0 md:rounded-none
						"
              >
                <h4
                  class="
								mb-4 text-lg font-mincho
								md:mb-4 md:text-[1.4rem] 
							"
                >
                  {service.title}
                </h4>
                <p
                  class="
								text-sm leading-relaxed
								md:text-[1.2rem]
							"
                >
                  {service.description}
                </p>
              </li>
            ))
          }
        </ul>
      </div>
      <div class="flex justify-end mt-16
				md:mt-10">
        <Link href="/service" text="サービスをくわしく見る" />
      </div>
    </section>
    <!-- WORKS -->
    <section
      class="grid grid-cols-2 gap-20 mt-48 px-20
			md:grid-cols-1 md:gap-12 md:mt-24 md:w-full md:px-[1.6rem]"
    >
      <div class="grid grid-cols-[auto_1fr] gap-3
				md:grid-cols-1 md:gap-0">
        <h2
          class="w-24 mb-8 py-3 text-sectionEnTitle text-key font-urbanist
					md:w-full md:mb-5 md:p-0 md:text-spSectionEnTitle"
        >
          Works
        </h2>
        <div class="grid grid-rows-[auto_1fr_auto]
					md:grid-cols-1">
          <h3
            class="mb-8 text-5xl font-mincho leading-normal
				   md:mb-6 md:text-spSectionTitle"
          >
            これまでの<br />
            お客様成功事例
          </h3>
          <p class="text-defaultText
						md:text-spDefaultText md:mb-10">
            もしあればここにそれを説明するテキストが入ってきますからね。入れるようにしておきましょうね。
            まあ何が入ってくるのかは全然わからないのですけれども、あればいいですね。
          </p>
          <Link href="/works" text="事例をくわしく見る" />
        </div>
      </div>
      {
        workList.map(work => {
          const detailInformation = [
            {
              title: "業種",
              description: work.industry,
            },
            {
              title: "従業員数",
              description: work.numberOfEmployees,
            },
            {
              title: "課題",
              description: work.issue,
            },
          ];
          return (
            <div class="md:w-full">
              <Image
                src={work.thumbnail.src}
                alt="制作実績"
                width={work.thumbnail.width}
                height={work.thumbnail.height}
                class="w-full rounded-lg"
              />
              <div class="mt-5 px-2">
                <h4
                  class="
							mb-5 pb-4 text-xl font-mincho border-b border-lineGray
							md:text-[1.6rem] md:mb-5 md:pb-5
						"
                >
                  {work.title}
                </h4>
                <div
                  class="flex items-center gap-2 w-fit px-3 py-2 border border-lineGray rounded-full
						 md:gap-2
						"
                >
                  <Image
                    src={work.client.logo.src}
                    alt={work.client.logo.altText}
                    width={work.client.logo.width}
                    height={work.client.logo.height}
                    class="w-8 h-fit md:w-2.2rem"
                  />
                  <span
                    class="text-sm
						   md:text-[1.2rem]
						"
                  >
                    {work.client.name}
                  </span>
                </div>
                <div class="flex flex-col gap-2 mt-3">
                  {detailInformation.map(workInformation => (
                    <dl class="grid grid-cols-[4rem_1fr] gap-5">
                      <dt
                        class="text-sm text-gray
							   md:text-[1.2rem]
							"
                      >
                        {workInformation.title}
                      </dt>
                      <dd
                        class="
										text-sm
										md:text-[1.2rem]
									"
                      >
                        {workInformation.description}
                      </dd>
                    </dl>
                  ))}
                </div>
              </div>
            </div>
          );
        })
      }
    </section>
    <!-- NEWS -->
    <section
      class="flex flex-col gap-12 items-end mt-48 mx-20 pl-28
			md:gap-10 md:w-full md:mt-24 md:mb-40 md:px-[1.6rem]"
    >
      <div
        class="grid grid-cols-[auto_1fr] gap-36 w-full
				md:grid-cols-1 md:gap-6"
      >
        <div class="flex flex-col py-8
					md:py-0">
          <h2
            class="text-sectionEnTitle text-key font-urbanist order-2
						md:mb-5 md:text-spSectionEnTitle md:order-1"
          >
            News
          </h2>
          <h3
            class="mb-5 text-4xl font-mincho order-1
						md:mb-0 md:text-spSectionTitle md:order-2"
          >
            最新のお知らせ
          </h3>
        </div>
        <div class="">
          <ul class="">
            {
              newsList.map(newsItem => (
                <li class="">
                  <NewsItem
                    id={newsItem._id}
                    updatedAt={newsItem._sys.updatedAt}
                    title={newsItem.title}
                    label={newsItem.label}
                    content={newsItem.content}
                  />
                </li>
              ))
            }
          </ul>
        </div>
      </div>
      <Link href="/news" text="お知らせ一覧を見る" />
    </section>
  </main>
</Layout>
